2
00:00:01,830 --> 00:00:04,120



3
00:00:01,840 --> 00:00:05,840
Hoy vamos a aprender a cómo es que un

4
00:00:04,110 --> 00:00:05,840



5
00:00:04,120 --> 00:00:08,080
cibercriminal puede envenenar un

6
00:00:05,830 --> 00:00:08,080



7
00:00:05,840 --> 00:00:10,320
documento de PDF para después enviarlo y

8
00:00:08,070 --> 00:00:10,320



9
00:00:08,080 --> 00:00:11,960
la persona que abra ese documento PDF

10
00:00:10,310 --> 00:00:11,960



11
00:00:10,320 --> 00:00:17,040
tenga acceso total a tu equipo de

12
00:00:11,950 --> 00:00:17,040



13
00:00:11,960 --> 00:00:17,040
cómputo. El documento PDF está por aquí.

15
00:00:17,120 --> 00:00:22,760
Le dan enterta

16
00:00:20,350 --> 00:00:22,760



17
00:00:20,360 --> 00:00:24,240
es la webcam de laptop. Entonces,

18
00:00:22,750 --> 00:00:24,240



19
00:00:22,760 --> 00:00:26,080
estamos teniendo acceso a todo el

20
00:00:24,230 --> 00:00:26,080



21
00:00:24,240 --> 00:00:28,160
sistema operativo, toda la información

22
00:00:26,070 --> 00:00:28,160



23
00:00:26,080 --> 00:00:30,160
que sea sensible, contraseñas de usuario

24
00:00:28,150 --> 00:00:30,160



25
00:00:28,160 --> 00:00:31,960
en los archivos. Tenemos los privilegios

26
00:00:30,150 --> 00:00:31,960



27
00:00:30,160 --> 00:00:33,680
escalados de forma muy sencilla. Esto es

28
00:00:31,950 --> 00:00:33,680



29
00:00:31,960 --> 00:00:35,960
una realidad y se puede hacer de una

30
00:00:33,670 --> 00:00:35,960



31
00:00:33,680 --> 00:00:37,680
forma muy sencilla, igual y un poquito

32
00:00:35,950 --> 00:00:37,680



33
00:00:35,960 --> 00:00:39,080
no tan sencilla para los que son nuevos,

34
00:00:37,670 --> 00:00:39,080



35
00:00:37,680 --> 00:00:41,720
pero me gustaría que conocieran esta

36
00:00:39,070 --> 00:00:41,720



37
00:00:39,080 --> 00:00:43,800
herramienta y aplicar la prueba de

38
00:00:41,710 --> 00:00:43,800



39
00:00:41,720 --> 00:00:45,960
concepto de cómo es que se hace y cómo

40
00:00:43,790 --> 00:00:45,960



41
00:00:43,800 --> 00:00:47,680
funciona. Todo con motivos educacionales

42
00:00:45,950 --> 00:00:47,680



43
00:00:45,960 --> 00:00:49,600
para que tú puedas defenderte de este

44
00:00:47,670 --> 00:00:49,600



45
00:00:47,680 --> 00:00:51,640
tipo de ataques y entiendas cómo es que

46
00:00:49,590 --> 00:00:51,640



47
00:00:49,600 --> 00:00:53,680
se puede mitigar de alguna manera. Antes

48
00:00:51,630 --> 00:00:53,680



49
00:00:51,640 --> 00:00:55,600
de iniciar te voy a recomendar un libro

50
00:00:53,670 --> 00:00:55,600



51
00:00:53,680 --> 00:00:57,600
como comúnmente siempre lo hago. Es el

52
00:00:55,590 --> 00:00:57,600



53
00:00:55,600 --> 00:00:59,320
libro de Metasploy para Pentesters, la

54
00:00:57,590 --> 00:00:59,320



55
00:00:57,600 --> 00:01:01,800
quinta edición. eh del la editorial

56
00:00:59,310 --> 00:01:01,800



57
00:00:59,320 --> 00:01:03,520
Serio X. Muy muy buen libro. Igual si

58
00:01:01,790 --> 00:01:03,520



59
00:01:01,800 --> 00:01:05,520
quieres un poquito profundizar más en

60
00:01:03,510 --> 00:01:05,520



61
00:01:03,520 --> 00:01:06,840
esta herramienta y su funcionamiento,

62
00:01:05,510 --> 00:01:06,840



63
00:01:05,520 --> 00:01:08,440
eh, te lo recomiendo para que lo

64
00:01:06,830 --> 00:01:08,440



65
00:01:06,840 --> 00:01:10,560
compres. Por aquí lo pongo, pues para

66
00:01:08,430 --> 00:01:10,560



67
00:01:08,440 --> 00:01:12,040
que alcancen a verlo por ahí bien. Sí,

68
00:01:10,550 --> 00:01:12,040



69
00:01:10,560 --> 00:01:14,080
una vez pues ya con la introducción

70
00:01:12,030 --> 00:01:14,080



71
00:01:12,040 --> 00:01:15,960
terminada, tengo un equipo Windows, por

72
00:01:14,070 --> 00:01:15,960



73
00:01:14,080 --> 00:01:17,320
aquí tengo mi computadora principal.

74
00:01:15,950 --> 00:01:17,320



75
00:01:15,960 --> 00:01:19,000
¿Qué es lo que vamos a hacer? Vamos a

76
00:01:17,310 --> 00:01:19,000



77
00:01:17,320 --> 00:01:21,160
generar un archivo PDF en nuestra

78
00:01:18,990 --> 00:01:21,160



79
00:01:19,000 --> 00:01:23,320
computadora principal. Una vez que ya lo

80
00:01:21,150 --> 00:01:23,320



81
00:01:21,160 --> 00:01:25,560
tengamos generado, se va a envenenar con

82
00:01:23,310 --> 00:01:25,560



83
00:01:23,320 --> 00:01:27,160
una reverse shell. se va a enviar a

84
00:01:25,550 --> 00:01:27,160



85
00:01:25,560 --> 00:01:29,400
nuestro otro equipo de cómputo con el

86
00:01:27,150 --> 00:01:29,400



87
00:01:27,160 --> 00:01:31,200
sistema operativo Windows 10. Y una vez

88
00:01:29,390 --> 00:01:31,200



89
00:01:29,400 --> 00:01:33,200
que abramos nuestro archivo PDF, vamos a

90
00:01:31,190 --> 00:01:33,200



91
00:01:31,200 --> 00:01:35,640
tener acceso a todo el sistema operativo

92
00:01:33,190 --> 00:01:35,640



93
00:01:33,200 --> 00:01:38,000
en general, desde la cámara, micrófonos,

94
00:01:35,630 --> 00:01:38,000



95
00:01:35,640 --> 00:01:39,680
teclado. Totalmente acceso a todo, desde

96
00:01:37,990 --> 00:01:39,680



97
00:01:38,000 --> 00:01:42,080
el sistema operativo hasta todos los

98
00:01:39,670 --> 00:01:42,080



99
00:01:39,680 --> 00:01:43,800
periféricos, como puede ser la webcam

100
00:01:42,070 --> 00:01:43,800



101
00:01:42,080 --> 00:01:45,680
para que entiendas el peligro de este

102
00:01:43,790 --> 00:01:45,680



103
00:01:43,800 --> 00:01:47,520
ataque y cómo es que funciona para que

104
00:01:45,670 --> 00:01:47,520



105
00:01:45,680 --> 00:01:48,960
no caigas en nada de esto. Pues una vez

106
00:01:47,510 --> 00:01:48,960



107
00:01:47,520 --> 00:01:50,680
dicha la introducción, empecemos,

108
00:01:48,950 --> 00:01:50,680



109
00:01:48,960 --> 00:01:52,280
iniciemos con el video. Sí, un gusto que

110
00:01:50,670 --> 00:01:52,280



111
00:01:50,680 --> 00:01:54,240
estés por aquí. Nos vamos a poner por

112
00:01:52,270 --> 00:01:54,240



113
00:01:52,280 --> 00:01:55,800
aquí en pequeñito para que no se pierda

114
00:01:54,230 --> 00:01:55,800



115
00:01:54,240 --> 00:01:57,840
nada del proceso y puedan ver con

116
00:01:55,790 --> 00:01:57,840



117
00:01:55,800 --> 00:01:59,200
claridad absolutamente todo. Sí. Eh, la

118
00:01:57,830 --> 00:01:59,200



119
00:01:57,840 --> 00:02:01,280
herramienta que vamos a utilizar se

120
00:01:59,190 --> 00:02:01,280



121
00:01:59,200 --> 00:02:02,960
llama Metaxploit. Es una herramienta, un

122
00:02:01,270 --> 00:02:02,960



123
00:02:01,280 --> 00:02:04,600
framework como tal. ¿Qué es un framewor?

124
00:02:02,950 --> 00:02:04,600



125
00:02:02,960 --> 00:02:06,920
Un framework es un poquito más avanzado,

126
00:02:04,590 --> 00:02:06,920



127
00:02:04,600 --> 00:02:09,160
es como un conjunto de herramientas pero

128
00:02:06,910 --> 00:02:09,160



129
00:02:06,920 --> 00:02:10,920
a un nivel muy potente. ¿Se usa en el

130
00:02:09,150 --> 00:02:10,920



131
00:02:09,160 --> 00:02:12,680
ámbito real? Sí, sí se usa en el ámbito

132
00:02:10,910 --> 00:02:12,680



133
00:02:10,920 --> 00:02:14,960
real. Vamos a empezar con algo básico

134
00:02:12,670 --> 00:02:14,960



135
00:02:12,680 --> 00:02:16,760
que es el envenenamiento de documentos.

136
00:02:14,950 --> 00:02:16,760



137
00:02:14,960 --> 00:02:18,280
No quiero meterlos en algo tan complejo.

138
00:02:16,750 --> 00:02:18,280



139
00:02:16,760 --> 00:02:19,840
Me gustaría que fueran entendiendo cómo

140
00:02:18,270 --> 00:02:19,840



141
00:02:18,280 --> 00:02:21,240
funciona la herramienta y sobre la

142
00:02:19,830 --> 00:02:21,240



143
00:02:19,840 --> 00:02:23,280
marcha vamos sirviendo un montón de

144
00:02:21,230 --> 00:02:23,280



145
00:02:21,240 --> 00:02:26,320
comandos. Sí, la herramienta se llama

146
00:02:23,270 --> 00:02:26,320



147
00:02:23,280 --> 00:02:30,560
metaxploit. Para iniciar la herramienta

148
00:02:26,310 --> 00:02:30,560



149
00:02:26,320 --> 00:02:32,040
comúnmente se inicia con msf conso y una

150
00:02:30,550 --> 00:02:32,040



151
00:02:30,560 --> 00:02:33,760
vez que inicie toda la herramienta vamos

152
00:02:32,030 --> 00:02:33,760



153
00:02:32,040 --> 00:02:35,720
a tener un montón de cosas. Aquí lo que

154
00:02:33,750 --> 00:02:35,720



155
00:02:33,760 --> 00:02:37,640
más nos interesa son los exploits, que

156
00:02:35,710 --> 00:02:37,640



157
00:02:35,720 --> 00:02:40,480
son los que nos van a permitir explotar

158
00:02:37,630 --> 00:02:40,480



159
00:02:37,640 --> 00:02:43,080
ciertas vulnerabilidades. Los pilotats

160
00:02:40,470 --> 00:02:43,080



161
00:02:40,480 --> 00:02:45,280
que son cargas que nos van a permitir

162
00:02:43,070 --> 00:02:45,280



163
00:02:43,080 --> 00:02:47,240
generar ciertas funciones una vez que ya

164
00:02:45,270 --> 00:02:47,240



165
00:02:45,280 --> 00:02:48,960
tengamos comprometido el sistema. Por

166
00:02:47,230 --> 00:02:48,960



167
00:02:47,240 --> 00:02:51,080
ahí también hay algunos que son ya de

168
00:02:48,950 --> 00:02:51,080



169
00:02:48,960 --> 00:02:52,880
postexplotación una vez que ya

170
00:02:51,070 --> 00:02:52,880



171
00:02:51,080 --> 00:02:54,960
comprometiste el sistema para tener

172
00:02:52,870 --> 00:02:54,960



173
00:02:52,880 --> 00:02:57,120
persistencia, que reinicies tu equipo y

174
00:02:54,950 --> 00:02:57,120



175
00:02:54,960 --> 00:02:58,560
sigas por ahí teniendo acceso permanente

176
00:02:57,110 --> 00:02:58,560



177
00:02:57,120 --> 00:03:00,480
a ese equipo de cómputo que ya

178
00:02:58,550 --> 00:03:00,480



179
00:02:58,560 --> 00:03:03,200
comprometiste en algún momento. Módulos

180
00:03:00,470 --> 00:03:03,200



181
00:03:00,480 --> 00:03:06,240
de evasión, módulos que nos permiten

182
00:03:03,190 --> 00:03:06,240



183
00:03:03,200 --> 00:03:08,640
generar estos archivos envenenados, pero

184
00:03:06,230 --> 00:03:08,640



185
00:03:06,240 --> 00:03:11,320
que ya a un nivel más profundo podemos

186
00:03:08,630 --> 00:03:11,320



187
00:03:08,640 --> 00:03:13,000
evadir ciertos antivirus para que no lo

188
00:03:11,310 --> 00:03:13,000



189
00:03:11,320 --> 00:03:14,440
detecte al momento de pasar o enviar el

190
00:03:12,990 --> 00:03:14,440



191
00:03:13,000 --> 00:03:16,040
archivo, porque directamente donde lo

192
00:03:14,430 --> 00:03:16,040



193
00:03:14,440 --> 00:03:17,800
envías, pues te va a decir detectado un

194
00:03:16,030 --> 00:03:17,800



195
00:03:16,040 --> 00:03:19,720
virus. Ya tenemos iniciado nuestro

196
00:03:17,790 --> 00:03:19,720



197
00:03:17,800 --> 00:03:21,800
metasploy framework. Ya sabemos que es

198
00:03:19,710 --> 00:03:21,800



199
00:03:19,720 --> 00:03:23,400
un exploy y que es un pilot y que es una

200
00:03:21,790 --> 00:03:23,400



201
00:03:21,800 --> 00:03:24,640
evasión, que es lo más importante. Lo

202
00:03:23,390 --> 00:03:24,640



203
00:03:23,400 --> 00:03:25,800
demás, pues no le vamos a prestar

204
00:03:24,630 --> 00:03:25,800



205
00:03:24,640 --> 00:03:27,680
atención porque no es un curso de

206
00:03:25,790 --> 00:03:27,680



207
00:03:25,800 --> 00:03:30,600
metasploid. Ahora lo primero que vamos a

208
00:03:27,670 --> 00:03:30,600



209
00:03:27,680 --> 00:03:32,520
hacer va a ser crear el PDF envenenado.

210
00:03:30,590 --> 00:03:32,520



211
00:03:30,600 --> 00:03:34,840
Eh, cabe destacar que puedes crear un

212
00:03:32,510 --> 00:03:34,840



213
00:03:32,520 --> 00:03:36,160
PDF en blanco nada más como prueba, pero

214
00:03:34,830 --> 00:03:36,160



215
00:03:34,840 --> 00:03:38,840
también puedes pasarle como tal

216
00:03:36,150 --> 00:03:38,840



217
00:03:36,160 --> 00:03:40,880
cualquier PDF y pues pues prácticamente

218
00:03:38,830 --> 00:03:40,880



219
00:03:38,840 --> 00:03:43,360
sería lo mismo. Ojo, cabe recalcar que

220
00:03:40,870 --> 00:03:43,360



221
00:03:40,880 --> 00:03:45,360
no es para fines maliciosos y que hagan

222
00:03:43,350 --> 00:03:45,360



223
00:03:43,360 --> 00:03:47,040
uso educativo de esta información que se

224
00:03:45,350 --> 00:03:47,040



225
00:03:45,360 --> 00:03:49,000
está brindando. Sí, aquí ya empezamos

226
00:03:47,030 --> 00:03:49,000



227
00:03:47,040 --> 00:03:52,080
con los primeros comandos. Eh, tenemos

228
00:03:48,990 --> 00:03:52,080



229
00:03:49,000 --> 00:03:54,440
el comando search, nos permite buscar

230
00:03:52,070 --> 00:03:54,440



231
00:03:52,080 --> 00:03:56,200
type, que nos permite buscar algún tipo,

232
00:03:54,430 --> 00:03:56,200



233
00:03:54,440 --> 00:03:58,920
qué tipo de módulo vamos a buscar.

234
00:03:56,190 --> 00:03:58,920



235
00:03:56,200 --> 00:04:02,000
dentro de lo que es todo metasploit,

236
00:03:58,910 --> 00:04:02,000



237
00:03:58,920 --> 00:04:03,840
vamos a buscar el tipo de módulo

238
00:04:01,990 --> 00:04:03,840



239
00:04:02,000 --> 00:04:06,840
exploit. Ahora vamos a escribir una

240
00:04:03,830 --> 00:04:06,840



241
00:04:03,840 --> 00:04:08,400
pequeña cadena Adobe Adobe PDF para

242
00:04:06,830 --> 00:04:08,400



243
00:04:06,840 --> 00:04:11,320
buscar dentro de todo el módulo para ver

244
00:04:08,390 --> 00:04:11,320



245
00:04:08,400 --> 00:04:14,080
si tenemos algo que nos pueda servir.

246
00:04:11,310 --> 00:04:14,080



247
00:04:11,320 --> 00:04:16,440
Tenemos aquí dos exploits. Nos dice que

248
00:04:14,070 --> 00:04:16,440



249
00:04:14,080 --> 00:04:18,280
este exploit es un exploit embebido en

250
00:04:16,430 --> 00:04:18,280



251
00:04:16,440 --> 00:04:19,640
un punto Exe, uno que no lleva

252
00:04:18,270 --> 00:04:19,640



253
00:04:18,280 --> 00:04:21,600
JavaScript y otro que sí lleva

254
00:04:19,630 --> 00:04:21,600



255
00:04:19,640 --> 00:04:23,360
JavaScript. Eh, el llevar JavaScript a

256
00:04:21,590 --> 00:04:23,360



257
00:04:21,600 --> 00:04:25,360
ser un lenguaje de programación con un

258
00:04:23,350 --> 00:04:25,360



259
00:04:23,360 --> 00:04:27,520
funcionamiento lógico va a ser que

260
00:04:25,350 --> 00:04:27,520



261
00:04:25,360 --> 00:04:29,280
tengamos mucho mayor tasa de éxito para

262
00:04:27,510 --> 00:04:29,280



263
00:04:27,520 --> 00:04:31,640
poder comprometer algún equipo. Le vamos

264
00:04:29,270 --> 00:04:31,640



265
00:04:29,280 --> 00:04:33,240
a poner use para utilizar. Vamos a

266
00:04:31,630 --> 00:04:33,240



267
00:04:31,640 --> 00:04:36,280
seleccionar que vamos a utilizar el

268
00:04:33,230 --> 00:04:36,280



269
00:04:33,240 --> 00:04:39,880
exploit número cero, ¿sí? Que es exploit

270
00:04:36,270 --> 00:04:39,880



271
00:04:36,280 --> 00:04:41,880
Windows file format adobeembido.exex.

272
00:04:39,870 --> 00:04:41,880



273
00:04:39,880 --> 00:04:44,360
Una vez que le damos enter nos arroja un

274
00:04:41,870 --> 00:04:44,360



275
00:04:41,880 --> 00:04:45,840
pequeño pront. Aquí nos pide las

276
00:04:44,350 --> 00:04:45,840



277
00:04:44,360 --> 00:04:47,520
configuraciones que le vamos a dar a

278
00:04:45,830 --> 00:04:47,520



279
00:04:45,840 --> 00:04:49,720
nuestro PDF. ¿Qué configuraciones nos va

280
00:04:47,510 --> 00:04:49,720



281
00:04:47,520 --> 00:04:51,760
a pedir al ser un documento PDF que se

282
00:04:49,710 --> 00:04:51,760



283
00:04:49,720 --> 00:04:53,480
va a conectar hacia un equipo? Nos va a

284
00:04:51,750 --> 00:04:53,480



285
00:04:51,760 --> 00:04:55,800
pedir la dirección IP de ese equipo que

286
00:04:53,470 --> 00:04:55,800



287
00:04:53,480 --> 00:04:57,760
se va a conectar y nos va a pedir por

288
00:04:55,790 --> 00:04:57,760



289
00:04:55,800 --> 00:04:59,080
qué puerto o por qué canal se va a

290
00:04:57,750 --> 00:04:59,080



291
00:04:57,760 --> 00:05:00,960
conectar hacia nuestro equipo de

292
00:04:59,070 --> 00:05:00,960



293
00:04:59,080 --> 00:05:02,880
cómputo. Los puertos básicamente son

294
00:05:00,950 --> 00:05:02,880



295
00:05:00,960 --> 00:05:04,360
como carreteras, carreteras virtuales.

296
00:05:02,870 --> 00:05:04,360



297
00:05:02,880 --> 00:05:06,000
Lo puedes ver de esta forma. Para poder

298
00:05:04,350 --> 00:05:06,000



299
00:05:04,360 --> 00:05:08,160
ver qué opciones nos pide, vamos a

300
00:05:05,990 --> 00:05:08,160



301
00:05:06,000 --> 00:05:10,400
escribir mostrar opciones o show

302
00:05:08,150 --> 00:05:10,400



303
00:05:08,160 --> 00:05:12,080
options, que prácticamente es lo mismo.

304
00:05:10,390 --> 00:05:12,080



305
00:05:10,400 --> 00:05:13,840
Y aquí nos despliega un montón de

306
00:05:12,070 --> 00:05:13,840



307
00:05:12,080 --> 00:05:15,880
cositas. Sí, nos pide dos parámetros

308
00:05:13,830 --> 00:05:15,880



309
00:05:13,840 --> 00:05:18,440
principales para poder crear en nuestro

310
00:05:15,870 --> 00:05:18,440



311
00:05:15,880 --> 00:05:20,840
archivo PDF. Nos pide el lhost. Aquí

312
00:05:18,430 --> 00:05:20,840



313
00:05:18,440 --> 00:05:23,680
directamente va la dirección IP local de

314
00:05:20,830 --> 00:05:23,680



315
00:05:20,840 --> 00:05:25,360
nuestra máquina y Lport es el puerto por

316
00:05:23,670 --> 00:05:25,360



317
00:05:23,680 --> 00:05:27,840
el cual se va a conectar a nuestra

318
00:05:25,350 --> 00:05:27,840



319
00:05:25,360 --> 00:05:29,480
máquina desde la máquina víctima. Sí,

320
00:05:27,830 --> 00:05:29,480



321
00:05:27,840 --> 00:05:31,280
hay que tener eso en claro. Nuestra

322
00:05:29,470 --> 00:05:31,280



323
00:05:29,480 --> 00:05:33,000
dirección IP no hay que dar nosotros los

324
00:05:31,270 --> 00:05:33,000



325
00:05:31,280 --> 00:05:35,240
parámetros. Tú le vas a dar la dirección

326
00:05:32,990 --> 00:05:35,240



327
00:05:33,000 --> 00:05:37,120
IP de tu equipo de cómputo. Sí, vamos a

328
00:05:35,230 --> 00:05:37,120



329
00:05:35,240 --> 00:05:39,400
abrir otra terminal. Le voy a dar sudo y

330
00:05:37,110 --> 00:05:39,400



331
00:05:37,120 --> 00:05:40,920
f config para poder verificar cuál es la

332
00:05:39,390 --> 00:05:40,920



333
00:05:39,400 --> 00:05:44,880
dirección IP que tenemos. Tenemos la

334
00:05:40,910 --> 00:05:44,880



335
00:05:40,920 --> 00:05:46,240
dirección IP 192, 168, 18.33.

336
00:05:44,870 --> 00:05:46,240



337
00:05:44,880 --> 00:05:48,600
La vamos a copiar porque es nuestra

338
00:05:46,230 --> 00:05:48,600



339
00:05:46,240 --> 00:05:50,320
dirección. Para setearle los valores o

340
00:05:48,590 --> 00:05:50,320



341
00:05:48,600 --> 00:05:52,920
enviarle los valores a nuestro archivo

342
00:05:50,310 --> 00:05:52,920



343
00:05:50,320 --> 00:05:55,720
PDF, vamos a ponerle set y lh host, que

344
00:05:52,910 --> 00:05:55,720



345
00:05:52,920 --> 00:05:58,400
quiere decir el host local, tu equipo de

346
00:05:55,710 --> 00:05:58,400



347
00:05:55,720 --> 00:06:00,080
cómputo. Sí, le damos control + B para

348
00:05:58,390 --> 00:06:00,080



349
00:05:58,400 --> 00:06:02,240
poder pegar y ya le seteamos la

350
00:06:00,070 --> 00:06:02,240



351
00:06:00,080 --> 00:06:04,120
dirección IP. Hay que darle options de

352
00:06:02,230 --> 00:06:04,120



353
00:06:02,240 --> 00:06:06,400
nuevo para verificar qué nos falta. Y

354
00:06:04,110 --> 00:06:06,400



355
00:06:04,120 --> 00:06:07,800
aquí pues nos falta el puerto. Ya lo

356
00:06:06,390 --> 00:06:07,800



357
00:06:06,400 --> 00:06:09,440
tiene porque ya lo había configurado,

358
00:06:07,790 --> 00:06:09,440



359
00:06:07,800 --> 00:06:10,840
pero lo más seguro es que te falte o

360
00:06:09,430 --> 00:06:10,840



361
00:06:09,440 --> 00:06:13,080
directamente te va a dejar como

362
00:06:10,830 --> 00:06:13,080



363
00:06:10,840 --> 00:06:14,840
preterminado el 444. Al momento de que

364
00:06:13,070 --> 00:06:14,840



365
00:06:13,080 --> 00:06:16,880
la máquina víctima se quiera conectar

366
00:06:14,830 --> 00:06:16,880



367
00:06:14,840 --> 00:06:18,720
con tu equipo de cómputo, es probable

368
00:06:16,870 --> 00:06:18,720



369
00:06:16,880 --> 00:06:20,560
que genere tráfico inusual. ¿Qué es el

370
00:06:18,710 --> 00:06:20,560



371
00:06:18,720 --> 00:06:22,600
tráfico inusual? mediante un puerto que

372
00:06:20,550 --> 00:06:22,600



373
00:06:20,560 --> 00:06:25,040
nadie usa va a empezar a hacer

374
00:06:22,590 --> 00:06:25,040



375
00:06:22,600 --> 00:06:27,920
conexiones. Entonces es obvio que mucho

376
00:06:25,030 --> 00:06:27,920



377
00:06:25,040 --> 00:06:29,720
más fácil tu antivirus o tu firewall va

378
00:06:27,910 --> 00:06:29,720



379
00:06:27,920 --> 00:06:30,960
a determinar que por ahí está pasando

380
00:06:29,710 --> 00:06:30,960



381
00:06:29,720 --> 00:06:32,240
algo raro. Entonces, no queremos que

382
00:06:30,950 --> 00:06:32,240



383
00:06:30,960 --> 00:06:35,000
pase eso. Entonces, le vamos a setear

384
00:06:32,230 --> 00:06:35,000



385
00:06:32,240 --> 00:06:36,560
otro puerto set elport, el puerto local.

386
00:06:34,990 --> 00:06:36,560



387
00:06:35,000 --> 00:06:38,320
Aquí invéntate un número, el que tú

388
00:06:36,550 --> 00:06:38,320



389
00:06:36,560 --> 00:06:39,880
quieras, nada más que no sea tan grande

390
00:06:38,310 --> 00:06:39,880



391
00:06:38,320 --> 00:06:41,600
y que esté en el rango dentro de los

392
00:06:39,870 --> 00:06:41,600



393
00:06:39,880 --> 00:06:43,880
puertos, que me parece que es el número

394
00:06:41,590 --> 00:06:43,880



395
00:06:41,600 --> 00:06:45,280
65,000 hacia abajo. Puede ser

396
00:06:43,870 --> 00:06:45,280



397
00:06:43,880 --> 00:06:46,960
cualquiera, pero pues si es un puerto

398
00:06:45,270 --> 00:06:46,960



399
00:06:45,280 --> 00:06:48,240
conocido, pues más fácil, ¿no? Puede ser

400
00:06:46,950 --> 00:06:48,240



401
00:06:46,960 --> 00:06:50,360
cualquiera. Sí. Entonces yo le voy a

402
00:06:48,230 --> 00:06:50,360



403
00:06:48,240 --> 00:06:51,840
poner 33. que es el puerto por el cual

404
00:06:50,350 --> 00:06:51,840



405
00:06:50,360 --> 00:06:54,000
nuestro documento se va a tratar de

406
00:06:51,830 --> 00:06:54,000



407
00:06:51,840 --> 00:06:56,120
conectar a nosotros. Show options de

408
00:06:53,990 --> 00:06:56,120



409
00:06:54,000 --> 00:06:57,880
nuevo y ya tenemos todo prácticamente

410
00:06:56,110 --> 00:06:57,880



411
00:06:56,120 --> 00:07:00,600
listo. ¿Qué es lo que nos falta? Generar

412
00:06:57,870 --> 00:07:00,600



413
00:06:57,880 --> 00:07:02,560
el documento PDF. Vamos a generarlo con

414
00:07:00,590 --> 00:07:02,560



415
00:07:00,600 --> 00:07:04,200
dice que ya nos generó el documento PDF

416
00:07:02,550 --> 00:07:04,200



417
00:07:02,560 --> 00:07:05,840
con nuestras configuraciones, con

418
00:07:04,190 --> 00:07:05,840



419
00:07:04,200 --> 00:07:08,920
nuestra dirección IP y nuestro puerto.

420
00:07:05,830 --> 00:07:08,920



421
00:07:05,840 --> 00:07:11,480
El documento PDF está por aquí.

422
00:07:08,910 --> 00:07:11,480



423
00:07:08,920 --> 00:07:13,800
¿Qué vamos a hacer? Vamos a copiar.

424
00:07:11,470 --> 00:07:13,800



425
00:07:11,480 --> 00:07:16,120
Sí, solo voy a borrar la última parte

426
00:07:13,790 --> 00:07:16,120



427
00:07:13,800 --> 00:07:18,440
hasta local para directamente pues irme

428
00:07:16,110 --> 00:07:18,440



429
00:07:16,120 --> 00:07:20,200
a la ruta donde se me generó el PDF. se

430
00:07:18,430 --> 00:07:20,200



431
00:07:18,440 --> 00:07:22,600
llama Evil. Lo genera de forma

432
00:07:20,190 --> 00:07:22,600



433
00:07:20,200 --> 00:07:25,320
automática. Vamos a cambiar el nombre

434
00:07:22,590 --> 00:07:25,320



435
00:07:22,600 --> 00:07:28,320
para que nadie sospeche y le vamos a

436
00:07:25,310 --> 00:07:28,320



437
00:07:25,320 --> 00:07:28,320
poner

439
00:07:36,200 --> 00:07:40,400
ojo, eh, pero no estén tomando ideas.

440
00:07:38,030 --> 00:07:40,400



441
00:07:38,040 --> 00:07:43,000
Cuidado, eh, que los conozco. Le pusimos

442
00:07:40,390 --> 00:07:43,000



443
00:07:40,400 --> 00:07:45,360
tarea PDF. Es un PDF normal, pero pues

444
00:07:42,990 --> 00:07:45,360



445
00:07:43,000 --> 00:07:47,280
dentro ya una reversación. ¿Qué vamos a

446
00:07:45,350 --> 00:07:47,280



447
00:07:45,360 --> 00:07:49,200
hacer ahora? Lo que vamos a hacer ahora

448
00:07:47,270 --> 00:07:49,200



449
00:07:47,280 --> 00:07:50,760
es que este documento lo vamos a pasar a

450
00:07:49,190 --> 00:07:50,760



451
00:07:49,200 --> 00:07:52,680
nuestro equipo de cómputo. Nos vamos a

452
00:07:50,750 --> 00:07:52,680



453
00:07:50,760 --> 00:07:55,080
conectar al compu con Windows, a este

454
00:07:52,670 --> 00:07:55,080



455
00:07:52,680 --> 00:07:56,840
equipo, pero para que ustedes lo puedan

456
00:07:55,070 --> 00:07:56,840



457
00:07:55,080 --> 00:07:59,200
ver mejor, me voy a conectar mediante un

458
00:07:56,830 --> 00:07:59,200



459
00:07:56,840 --> 00:08:01,440
programa que me permite eh manejar mi

460
00:07:59,190 --> 00:08:01,440



461
00:07:59,200 --> 00:08:03,160
equipo mediante internet. Se llama

462
00:08:01,430 --> 00:08:03,160



463
00:08:01,440 --> 00:08:04,400
Anidesk. Eh, para que ustedes estén

464
00:08:03,150 --> 00:08:04,400



465
00:08:03,160 --> 00:08:06,120
viendo en tiempo real todo lo que está

466
00:08:04,390 --> 00:08:06,120



467
00:08:04,400 --> 00:08:07,640
pasando. Una vez que lo tengo copiado en

468
00:08:06,110 --> 00:08:07,640



469
00:08:06,120 --> 00:08:09,600
el home, lo que voy a hacer es que voy a

470
00:08:07,630 --> 00:08:09,600



471
00:08:07,640 --> 00:08:12,520
crear un pequeño servidor para poder

472
00:08:09,590 --> 00:08:12,520



473
00:08:09,600 --> 00:08:16,760
bajarlo acá. LS por aquí está. Se ya

474
00:08:12,510 --> 00:08:16,760



475
00:08:12,520 --> 00:08:21,320
notaría algo. Python 3 - mhtt. ¿Para

476
00:08:16,750 --> 00:08:21,320



477
00:08:16,760 --> 00:08:23,480
qué? Para poder descargarlo desde acá.

478
00:08:21,310 --> 00:08:23,480



479
00:08:21,320 --> 00:08:25,360
Mira, dijimos que nuestra IP es esta de

480
00:08:23,470 --> 00:08:25,360



481
00:08:23,480 --> 00:08:27,120
aquí,

482
00:08:25,350 --> 00:08:27,120



483
00:08:25,360 --> 00:08:29,640
pues la vamos a copiar. Nos vamos a

484
00:08:27,110 --> 00:08:29,640



485
00:08:27,120 --> 00:08:32,320
nuestra otra máquina.

486
00:08:29,630 --> 00:08:32,320



487
00:08:29,640 --> 00:08:33,760
Me voy por aquí. ¿Y

488
00:08:32,310 --> 00:08:33,760



489
00:08:32,320 --> 00:08:38,840
qué es lo que vamos a hacer aquí? Vamos

490
00:08:33,750 --> 00:08:38,840



491
00:08:33,760 --> 00:08:41,080
a pegar la dirección IP. 192, 168, 18.33

492
00:08:38,830 --> 00:08:41,080



493
00:08:38,840 --> 00:08:42,720
por el puerto 8000. Le damos que sí,

494
00:08:41,070 --> 00:08:42,720



495
00:08:41,080 --> 00:08:46,280
antes de que se me olvide, para que sea

496
00:08:42,710 --> 00:08:46,280



497
00:08:42,720 --> 00:08:48,320
más fácil, vamos a comprimir tarea.

498
00:08:46,270 --> 00:08:48,320



499
00:08:46,280 --> 00:08:51,360
Le voy a dar por aquí compress con press

500
00:08:48,310 --> 00:08:51,360



501
00:08:48,320 --> 00:08:52,800
tarea, que pues es el documento que

502
00:08:51,350 --> 00:08:52,800



503
00:08:51,360 --> 00:08:55,200
envenenamos. Vamos a crear una nueva

504
00:08:52,790 --> 00:08:55,200



505
00:08:52,800 --> 00:08:57,000
carpeta y vamos a poner Evil. Una vez

506
00:08:55,190 --> 00:08:57,000



507
00:08:55,200 --> 00:08:58,600
que tengamos la carpeta, vamos a pasar

508
00:08:56,990 --> 00:08:58,600



509
00:08:57,000 --> 00:09:01,080
tarea, que es el documento PDF que

510
00:08:58,590 --> 00:09:01,080



511
00:08:58,600 --> 00:09:03,400
creamos para poder pues tenerlo más

512
00:09:01,070 --> 00:09:03,400



513
00:09:01,080 --> 00:09:05,760
accesivo.

514
00:09:03,390 --> 00:09:05,760



515
00:09:03,400 --> 00:09:07,480
Sí, por aquí pues recargamos y ya se

516
00:09:05,750 --> 00:09:07,480



517
00:09:05,760 --> 00:09:11,040
movió. Por aquí tenemos una carpeta que

518
00:09:07,470 --> 00:09:11,040



519
00:09:07,480 --> 00:09:12,800
se llama Evil y descargamos tarea.

520
00:09:11,030 --> 00:09:12,800



521
00:09:11,040 --> 00:09:14,280
Sí, por aquí está. De hecho, aquí ya

522
00:09:12,790 --> 00:09:14,280



523
00:09:12,800 --> 00:09:16,600
descomprimé el archivo. Es el mismo

524
00:09:14,270 --> 00:09:16,600



525
00:09:14,280 --> 00:09:18,200
documento, simplemente lo pasé. Vamos a

526
00:09:16,590 --> 00:09:18,200



527
00:09:16,600 --> 00:09:20,080
verificar que tengamos la seguridad

528
00:09:18,190 --> 00:09:20,080



529
00:09:18,200 --> 00:09:21,680
desactivada. Efectivamente, la tenemos.

530
00:09:20,070 --> 00:09:21,680



531
00:09:20,080 --> 00:09:24,960
El firewall no importa si lo podemos

532
00:09:21,670 --> 00:09:24,960



533
00:09:21,680 --> 00:09:28,680
evadir. Enviamos al escritorio nuestro

534
00:09:24,950 --> 00:09:28,680



535
00:09:24,960 --> 00:09:30,520
archivo PDF envenenado, ¿no? Tarea. Aquí

536
00:09:28,670 --> 00:09:30,520



537
00:09:28,680 --> 00:09:32,360
está. Sí. ¿Qué pasa? que cuando lo

538
00:09:30,510 --> 00:09:32,360



539
00:09:30,520 --> 00:09:34,520
abramos el documento va a estar buscando

540
00:09:32,350 --> 00:09:34,520



541
00:09:32,360 --> 00:09:37,280
la dirección IP para conectarse y el

542
00:09:34,510 --> 00:09:37,280



543
00:09:34,520 --> 00:09:38,720
puerto para conectarse, pero como no va

544
00:09:37,270 --> 00:09:38,720



545
00:09:37,280 --> 00:09:40,840
a haber nadie que lo está escuchando

546
00:09:38,710 --> 00:09:40,840



547
00:09:38,720 --> 00:09:42,480
porque esto no se hace automático, pues

548
00:09:40,830 --> 00:09:42,480



549
00:09:40,840 --> 00:09:44,160
no se va a conectar absolutamente con

550
00:09:42,470 --> 00:09:44,160



551
00:09:42,480 --> 00:09:46,240
nada. Entonces, ¿qué es lo que sigue

552
00:09:44,150 --> 00:09:46,240



553
00:09:44,160 --> 00:09:49,320
aquí? Una vez generado el documento PDF,

554
00:09:46,230 --> 00:09:49,320



555
00:09:46,240 --> 00:09:51,080
ahora vamos a crear un listener o

556
00:09:49,310 --> 00:09:51,080



557
00:09:49,320 --> 00:09:52,680
escuchador para que esté escuchando

558
00:09:51,070 --> 00:09:52,680



559
00:09:51,080 --> 00:09:55,400
peticiones y una vez que la máquina

560
00:09:52,670 --> 00:09:55,400



561
00:09:52,680 --> 00:09:57,800
víctima abra el documento PDF, pum,

562
00:09:55,390 --> 00:09:57,800



563
00:09:55,400 --> 00:10:00,720
nuestro escuchador toma la conexión y ya

564
00:09:57,790 --> 00:10:00,720



565
00:09:57,800 --> 00:10:02,520
tenemos una terminal con acceso root y

566
00:10:00,710 --> 00:10:02,520



567
00:10:00,720 --> 00:10:04,240
meterpreter. Ahorita les voy a explicar

568
00:10:02,510 --> 00:10:04,240



569
00:10:02,520 --> 00:10:07,280
qué es meter preter. Por aquí ya no

570
00:10:04,230 --> 00:10:07,280



571
00:10:04,240 --> 00:10:08,680
necesitamos esto, lo cerramos, eh, ya no

572
00:10:07,270 --> 00:10:08,680



573
00:10:07,280 --> 00:10:10,080
nos va a servir el servidor porque pues

574
00:10:08,670 --> 00:10:10,080



575
00:10:08,680 --> 00:10:12,480
ya tenemos el archivo que queríamos

576
00:10:10,070 --> 00:10:12,480



577
00:10:10,080 --> 00:10:14,480
pasar. Sí, cerramos por aquí la máquina,

578
00:10:12,470 --> 00:10:14,480



579
00:10:12,480 --> 00:10:16,120
ahorita no la necesitamos. Eh, hay que

580
00:10:14,470 --> 00:10:16,120



581
00:10:14,480 --> 00:10:18,480
copiar nuestra dirección IP para ahorita

582
00:10:16,110 --> 00:10:18,480



583
00:10:16,120 --> 00:10:19,920
que usemos el escuchador. Ahora vamos a

584
00:10:18,470 --> 00:10:19,920



585
00:10:18,480 --> 00:10:21,760
configurar el escuchador. Pues ya

586
00:10:19,910 --> 00:10:21,760



587
00:10:19,920 --> 00:10:24,680
generamos el PDF, hay que regresarnos

588
00:10:21,750 --> 00:10:24,680



589
00:10:21,760 --> 00:10:27,800
con back. Nos regresamos,

590
00:10:24,670 --> 00:10:27,800



591
00:10:24,680 --> 00:10:29,840
escribimos sus exploit

592
00:10:27,790 --> 00:10:29,840



593
00:10:27,800 --> 00:10:32,320
barra

594
00:10:29,830 --> 00:10:32,320



595
00:10:29,840 --> 00:10:35,200
multi, ya que hay múltiples tipos de

596
00:10:32,310 --> 00:10:35,200



597
00:10:32,320 --> 00:10:38,080
escucha dependiendo del protocolo barra

598
00:10:35,190 --> 00:10:38,080



599
00:10:35,200 --> 00:10:39,960
handler. Handler. Y ya vemos que ya

600
00:10:38,070 --> 00:10:39,960



601
00:10:38,080 --> 00:10:41,560
activamos eh lo que es el módulo del

602
00:10:39,950 --> 00:10:41,560



603
00:10:39,960 --> 00:10:43,760
escuchador. ¿Sí? Ahora vamos a

604
00:10:41,550 --> 00:10:43,760



605
00:10:41,560 --> 00:10:46,080
seleccionar qué tipo de escucha de forma

606
00:10:43,750 --> 00:10:46,080



607
00:10:43,760 --> 00:10:48,240
preterminada el sí una reverse shell

608
00:10:46,070 --> 00:10:48,240



609
00:10:46,080 --> 00:10:50,560
funciona por TCP. De hecho, aquí mismo

610
00:10:48,230 --> 00:10:50,560



611
00:10:48,240 --> 00:10:52,200
nos dice Shell reverse TCP, pero nos

612
00:10:50,550 --> 00:10:52,200



613
00:10:50,560 --> 00:10:55,720
está tomando un genérico. Ocupamos

614
00:10:52,190 --> 00:10:55,720



615
00:10:52,200 --> 00:10:57,720
ponerle uno para Windows mediante TCP

616
00:10:55,710 --> 00:10:57,720



617
00:10:55,720 --> 00:10:59,400
para que pueda seguir en la escucha. Una

618
00:10:57,710 --> 00:10:59,400



619
00:10:57,720 --> 00:11:01,400
vez estando aquí, vamos a seleccionar el

620
00:10:59,390 --> 00:11:01,400



621
00:10:59,400 --> 00:11:04,880
pilotat que requerimos. Requerimos el

622
00:11:01,390 --> 00:11:04,880



623
00:11:01,400 --> 00:11:06,360
pilotat. Vamos a poner set pilotat.

624
00:11:04,870 --> 00:11:06,360



625
00:11:04,880 --> 00:11:11,720
Después, ¿para qué plataforma lo

626
00:11:06,350 --> 00:11:11,720



627
00:11:06,360 --> 00:11:14,360
queremos? Windows. Windows. L barra.

628
00:11:11,710 --> 00:11:14,360



629
00:11:11,720 --> 00:11:17,640
Preter y se pone bueno porque ahorita

630
00:11:14,350 --> 00:11:17,640



631
00:11:14,360 --> 00:11:19,880
van a ver el potencial de meter preter

632
00:11:17,630 --> 00:11:19,880



633
00:11:17,640 --> 00:11:23,760
barra

634
00:11:19,870 --> 00:11:23,760



635
00:11:19,880 --> 00:11:27,520
reverse gu tcp. Sí, listo. Vamos a

636
00:11:23,750 --> 00:11:27,520



637
00:11:23,760 --> 00:11:30,040
setearle ese pilot.

638
00:11:27,510 --> 00:11:30,040



639
00:11:27,520 --> 00:11:31,800
Ya lo tenemos seteado. Ya tenemos

640
00:11:30,030 --> 00:11:31,800



641
00:11:30,040 --> 00:11:35,280
nuestro escuchador casi funcional. ¿Qué

642
00:11:31,790 --> 00:11:35,280



643
00:11:31,800 --> 00:11:37,240
vamos a hacer? Básicamente lo de antes,

644
00:11:35,270 --> 00:11:37,240



645
00:11:35,280 --> 00:11:42,000
options para verificar las opciones. ¿Y

646
00:11:37,230 --> 00:11:42,000



647
00:11:37,240 --> 00:11:44,360
qué nos pide el puerto? Igual set report

648
00:11:41,990 --> 00:11:44,360



649
00:11:42,000 --> 00:11:46,480
333

650
00:11:44,350 --> 00:11:46,480



651
00:11:44,360 --> 00:11:49,360
y le seteamos el puerto. Verificamos que

652
00:11:46,470 --> 00:11:49,360



653
00:11:46,480 --> 00:11:52,120
si esté con options

654
00:11:49,350 --> 00:11:52,120



655
00:11:49,360 --> 00:11:55,400
y pues aquí ya está 33. El host le vamos

656
00:11:52,110 --> 00:11:55,400



657
00:11:52,120 --> 00:11:57,320
a setear nuestra dirección IP. La IP que

658
00:11:55,390 --> 00:11:57,320



659
00:11:55,400 --> 00:11:59,240
le pusimos al configurar nuestro

660
00:11:57,310 --> 00:11:59,240



661
00:11:57,320 --> 00:12:01,480
documento PDF envenenado va a ser la que

662
00:11:59,230 --> 00:12:01,480



663
00:11:59,240 --> 00:12:04,480
vamos a colocar aquí.

664
00:12:01,470 --> 00:12:04,480



665
00:12:01,480 --> 00:12:05,920
Sí, claro que a lo mejor esto funciona

666
00:12:04,470 --> 00:12:05,920



667
00:12:04,480 --> 00:12:07,760
de forma local, pero si quieres que

668
00:12:05,910 --> 00:12:07,760



669
00:12:05,920 --> 00:12:09,800
funcione de forma global, que tú lo

670
00:12:07,750 --> 00:12:09,800



671
00:12:07,760 --> 00:12:11,160
puedas enviar, pues no directamente tú,

672
00:12:09,790 --> 00:12:11,160



673
00:12:09,800 --> 00:12:12,960
¿verdad? porque tú no vas a hacer eso,

674
00:12:11,150 --> 00:12:12,960



675
00:12:11,160 --> 00:12:14,760
pero que un delincuente sí lo quiere

676
00:12:12,950 --> 00:12:14,760



677
00:12:12,960 --> 00:12:16,800
hacer, pues lo que puede hacer

678
00:12:14,750 --> 00:12:16,800



679
00:12:14,760 --> 00:12:18,960
básicamente es pagar un servicio en

680
00:12:16,790 --> 00:12:18,960



681
00:12:16,800 --> 00:12:20,960
Amazon Web Service, crear una VPS, una

682
00:12:18,950 --> 00:12:20,960



683
00:12:18,960 --> 00:12:22,920
máquina virtual. Desde ahí pues ya va a

684
00:12:20,950 --> 00:12:22,920



685
00:12:20,960 --> 00:12:24,640
tener una dirección IP pública, abre

686
00:12:22,910 --> 00:12:24,640



687
00:12:22,920 --> 00:12:26,440
algún puerto y mediante un puerto pues

688
00:12:24,630 --> 00:12:26,440



689
00:12:24,640 --> 00:12:29,280
ya le va a setear la dirección IP

690
00:12:26,430 --> 00:12:29,280



691
00:12:26,440 --> 00:12:32,200
pública de su VPS y también el puerto de

692
00:12:29,270 --> 00:12:32,200



693
00:12:29,280 --> 00:12:34,200
su VPS, el puerto que abrió en su Amazon

694
00:12:32,190 --> 00:12:34,200



695
00:12:32,200 --> 00:12:36,560
Web Service, pues prácticamente ya tiene

696
00:12:34,190 --> 00:12:36,560



697
00:12:34,200 --> 00:12:39,320
un documento PF envenenado que puede

698
00:12:36,550 --> 00:12:39,320



699
00:12:36,560 --> 00:12:41,400
pues acceder a muchos equipos de cómput.

700
00:12:39,310 --> 00:12:41,400



701
00:12:39,320 --> 00:12:44,800
Eh, bien, ya lo seteamos. Aquí recuerden

702
00:12:41,390 --> 00:12:44,800



703
00:12:41,400 --> 00:12:46,840
ponerle el host, que es el pues el el

704
00:12:44,790 --> 00:12:46,840



705
00:12:44,800 --> 00:12:49,760
host que es nuestra dirección IP, como

706
00:12:46,830 --> 00:12:49,760



707
00:12:46,840 --> 00:12:52,400
les comentaba. Y listo, ya lo seteamos.

708
00:12:49,750 --> 00:12:52,400



709
00:12:49,760 --> 00:12:54,800
Options. Y aquí ya tenemos lo que es el

710
00:12:52,390 --> 00:12:54,800



711
00:12:52,400 --> 00:12:56,720
L hhost y el Lport. Ahora, ¿qué es lo

712
00:12:54,790 --> 00:12:56,720



713
00:12:54,800 --> 00:12:58,280
que vamos a escribir? Exploit para poder

714
00:12:56,710 --> 00:12:58,280



715
00:12:56,720 --> 00:13:01,760
ejecutar nuestro escuchar. Le damos

716
00:12:58,270 --> 00:13:01,760



717
00:12:58,280 --> 00:13:03,120
exploit y va a empezar a generar todas

718
00:13:01,750 --> 00:13:03,120



719
00:13:01,760 --> 00:13:05,560
las configuraciones. ¿Qué es lo que nos

720
00:13:03,110 --> 00:13:05,560



721
00:13:03,120 --> 00:13:08,280
está diciendo aquí? Ya iniciamos en este

722
00:13:05,550 --> 00:13:08,280



723
00:13:05,560 --> 00:13:12,120
momento un escuchador de Reverse TCP

724
00:13:08,270 --> 00:13:12,120



725
00:13:08,280 --> 00:13:16,040
mediante la dirección IP 198

726
00:13:12,110 --> 00:13:16,040



727
00:13:12,120 --> 00:13:17,840
y mediante el puerto 333. Es decir,

728
00:13:16,030 --> 00:13:17,840



729
00:13:16,040 --> 00:13:19,440
cualquier cosa que se trate de conectar

730
00:13:17,830 --> 00:13:19,440



731
00:13:17,840 --> 00:13:21,520
en este momento a nuestro equipo o en

732
00:13:19,430 --> 00:13:21,520



733
00:13:19,440 --> 00:13:24,000
cualquier momento también se puede dejar

734
00:13:21,510 --> 00:13:24,000



735
00:13:21,520 --> 00:13:26,320
esto en background, que es como eh dejar

736
00:13:23,990 --> 00:13:26,320



737
00:13:24,000 --> 00:13:27,880
muchas escuchas y pues en cuanto digamos

738
00:13:26,310 --> 00:13:27,880



739
00:13:26,320 --> 00:13:29,920
como un tipo anzuelo, entonces en cuanto

740
00:13:27,870 --> 00:13:29,920



741
00:13:27,880 --> 00:13:31,880
pique a alguien el anzuelo, por así

742
00:13:29,910 --> 00:13:31,880



743
00:13:29,920 --> 00:13:33,640
decirlo, pues te va a generar las

744
00:13:31,870 --> 00:13:33,640



745
00:13:31,880 --> 00:13:35,400
conexiones de meter preter y vas a tener

746
00:13:33,630 --> 00:13:35,400



747
00:13:33,640 --> 00:13:37,320
acceso a un montón de cosas, ¿no? Aquí

748
00:13:35,390 --> 00:13:37,320



749
00:13:35,400 --> 00:13:39,400
ya tenemos a la escucha, que quiere

750
00:13:37,310 --> 00:13:39,400



751
00:13:37,320 --> 00:13:41,800
decir que miren, este es el equipo de

752
00:13:39,390 --> 00:13:41,800



753
00:13:39,400 --> 00:13:43,840
cómputo, aquí está la tarea PDF. Vamos a

754
00:13:41,790 --> 00:13:43,840



755
00:13:41,800 --> 00:13:45,880
tratar de abrir la tarea PDF, ¿no?

756
00:13:43,830 --> 00:13:45,880



757
00:13:43,840 --> 00:13:48,320
Entonces, tú abres tu documento PDF,

758
00:13:45,870 --> 00:13:48,320



759
00:13:45,880 --> 00:13:49,760
¿sí? Ojo aquí, y pues te pide, no sé,

760
00:13:48,310 --> 00:13:49,760



761
00:13:48,320 --> 00:13:51,560
guardar algo, ¿no? Pues ahí le das

762
00:13:49,750 --> 00:13:51,560



763
00:13:49,760 --> 00:13:53,400
guardar. Pues la mayoría de los usuarios

764
00:13:51,550 --> 00:13:53,400



765
00:13:51,560 --> 00:13:55,040
le van a dar que sí, ¿eh? Y aquí

766
00:13:53,390 --> 00:13:55,040



767
00:13:53,400 --> 00:13:57,600
acabamos de ver un movimiento, dice

768
00:13:55,030 --> 00:13:57,600



769
00:13:55,040 --> 00:14:00,160
sesión de meterpreter establecida o

770
00:13:57,590 --> 00:14:00,160



771
00:13:57,600 --> 00:14:02,240
abierta. Ya tenemos acceso. Así

772
00:14:00,150 --> 00:14:02,240



773
00:14:00,160 --> 00:14:04,120
superfácil. Eh, con estas pequeñas

774
00:14:02,230 --> 00:14:04,120



775
00:14:02,240 --> 00:14:06,520
configuraciones y un documento PDF que

776
00:14:04,110 --> 00:14:06,520



777
00:14:04,120 --> 00:14:08,000
abrimos, ya tenemos acceso casi a todo

778
00:14:06,510 --> 00:14:08,000



779
00:14:06,520 --> 00:14:09,600
el equipo de cómput. ¿Qué es lo que

780
00:14:07,990 --> 00:14:09,600



781
00:14:08,000 --> 00:14:11,200
vamos a hacer? Escribimos gel para ver

782
00:14:09,590 --> 00:14:11,200



783
00:14:09,600 --> 00:14:13,000
qué es lo que podemos hacer. Y aquí

784
00:14:11,190 --> 00:14:13,000



785
00:14:11,200 --> 00:14:14,440
tenemos un montón de comandos. Sí,

786
00:14:12,990 --> 00:14:14,440



787
00:14:13,000 --> 00:14:16,680
explicación rápida porque no quiero que

788
00:14:14,430 --> 00:14:16,680



789
00:14:14,440 --> 00:14:18,240
sea tan tardado este video. Ojo, cabe

790
00:14:16,670 --> 00:14:18,240



791
00:14:16,680 --> 00:14:19,960
recalcar que aquí se ocupan ciertas

792
00:14:18,230 --> 00:14:19,960



793
00:14:18,240 --> 00:14:22,080
condiciones para que funcione todo esto

794
00:14:19,950 --> 00:14:22,080



795
00:14:19,960 --> 00:14:24,240
que estamos haciendo. Primera condición,

796
00:14:22,070 --> 00:14:24,240



797
00:14:22,080 --> 00:14:26,440
el antivirus debe estar inhabilitado

798
00:14:24,230 --> 00:14:26,440



799
00:14:24,240 --> 00:14:28,760
porque no fuscamos absolutamente nada.

800
00:14:26,430 --> 00:14:28,760



801
00:14:26,440 --> 00:14:30,680
Segunda condición, el Adobe Reader que

802
00:14:28,750 --> 00:14:30,680



803
00:14:28,760 --> 00:14:33,120
está instalado, el lector de PDF tiene

804
00:14:30,670 --> 00:14:33,120



805
00:14:30,680 --> 00:14:35,000
que ser la versión 9.3 hacia abajo, si

806
00:14:33,110 --> 00:14:35,000



807
00:14:33,120 --> 00:14:36,560
no no va a funcionar en lo absoluto. Sí.

808
00:14:34,990 --> 00:14:36,560



809
00:14:35,000 --> 00:14:38,680
Bueno, sigamos. tenemos pues para enviar

810
00:14:36,550 --> 00:14:38,680



811
00:14:36,560 --> 00:14:40,400
publicaciones de teclado, para escanear

812
00:14:38,670 --> 00:14:40,400



813
00:14:38,680 --> 00:14:43,480
lo que son pues todas las teclas, pues

814
00:14:40,390 --> 00:14:43,480



815
00:14:40,400 --> 00:14:45,400
básicamente ponemos que hay scan start y

816
00:14:43,470 --> 00:14:45,400



817
00:14:43,480 --> 00:14:47,200
pues lo paramos con stop, que es lo que

818
00:14:45,390 --> 00:14:47,200



819
00:14:45,400 --> 00:14:48,760
va a ser prácticamente es un snifer del

820
00:14:47,190 --> 00:14:48,760



821
00:14:47,200 --> 00:14:50,280
teclado. La persona está escribiendo sus

822
00:14:48,750 --> 00:14:50,280



823
00:14:48,760 --> 00:14:52,120
contraseñas, sus documentos, cosas de

824
00:14:50,270 --> 00:14:52,120



825
00:14:50,280 --> 00:14:54,600
banco, lo que sea, y a ti directamente

826
00:14:52,110 --> 00:14:54,600



827
00:14:52,120 --> 00:14:56,160
te están llegando todas las pulsaciones.

828
00:14:54,590 --> 00:14:56,160



829
00:14:54,600 --> 00:14:58,720
Todo eso se puede hacer, controlar el

830
00:14:56,150 --> 00:14:58,720



831
00:14:56,160 --> 00:15:00,040
mouse, sacar un screenshot, un montón de

832
00:14:58,710 --> 00:15:00,040



833
00:14:58,720 --> 00:15:02,000
cosas como antes, por ejemplo, como

834
00:15:00,030 --> 00:15:02,000



835
00:15:00,040 --> 00:15:04,920
grabar el micrófono en tiempo real, ojo

836
00:15:01,990 --> 00:15:04,920



837
00:15:02,000 --> 00:15:07,040
con esto. Un chat mediante webcam, esto

838
00:15:04,910 --> 00:15:07,040



839
00:15:04,920 --> 00:15:09,280
lo usan para extorsiones, para dumpear

840
00:15:07,030 --> 00:15:09,280



841
00:15:07,040 --> 00:15:11,520
las contraseñas del Sam. Eso es

842
00:15:09,270 --> 00:15:11,520



843
00:15:09,280 --> 00:15:14,200
básicamente eh para sacar todas las

844
00:15:11,510 --> 00:15:14,200



845
00:15:11,520 --> 00:15:16,480
contraseñas de tu Windows de forma

846
00:15:14,190 --> 00:15:16,480



847
00:15:14,200 --> 00:15:18,600
remota, porque el Sam es la base de

848
00:15:16,470 --> 00:15:18,600



849
00:15:16,480 --> 00:15:20,680
datos que almacena las contraseñas de tu

850
00:15:18,590 --> 00:15:20,680



851
00:15:18,600 --> 00:15:23,360
Windows, el administrador, eh, usuarios

852
00:15:20,670 --> 00:15:23,360



853
00:15:20,680 --> 00:15:25,120
locales, etcétera. Sí, no quiero

854
00:15:23,350 --> 00:15:25,120



855
00:15:23,360 --> 00:15:26,680
tardarme mucho con esto, simplemente

856
00:15:25,110 --> 00:15:26,680



857
00:15:25,120 --> 00:15:30,760
vamos a usar un comando para que veas el

858
00:15:26,670 --> 00:15:30,760



859
00:15:26,680 --> 00:15:32,960
funcionamiento. Webcam guaj

860
00:15:30,750 --> 00:15:32,960



861
00:15:30,760 --> 00:15:34,680
stream. Al ejecutar el comando nos va a

862
00:15:32,950 --> 00:15:34,680



863
00:15:32,960 --> 00:15:36,640
arrojar una ventana y ahí vamos a poder

864
00:15:34,670 --> 00:15:36,640



865
00:15:34,680 --> 00:15:39,280
estar viendo la webcam en tiempo real.

866
00:15:36,630 --> 00:15:39,280



867
00:15:36,640 --> 00:15:41,960
Si le damos enter y qué está pasando

868
00:15:39,270 --> 00:15:41,960



869
00:15:39,280 --> 00:15:43,920
aquí? Acabamos de aparecer nosotros en

870
00:15:41,950 --> 00:15:43,920



871
00:15:41,960 --> 00:15:46,800
un lado, pero esta no es la webcam, no

872
00:15:43,910 --> 00:15:46,800



873
00:15:43,920 --> 00:15:48,360
es la webcam de esta de este punto de de

874
00:15:46,790 --> 00:15:48,360



875
00:15:46,800 --> 00:15:50,800
nuestro equipo de escritorio. Esta es la

876
00:15:48,350 --> 00:15:50,800



877
00:15:48,360 --> 00:15:53,000
webcam de la laptop. Entonces, estamos

878
00:15:50,790 --> 00:15:53,000



879
00:15:50,800 --> 00:15:54,960
teniendo acceso absolutamente a todo el

880
00:15:52,990 --> 00:15:54,960



881
00:15:53,000 --> 00:15:56,680
sistema operativo, su webcam, toda la

882
00:15:54,950 --> 00:15:56,680



883
00:15:54,960 --> 00:15:58,760
información que sea sensible,

884
00:15:56,670 --> 00:15:58,760



885
00:15:56,680 --> 00:16:00,800
contraseñas de usuario en los archivos.

886
00:15:58,750 --> 00:16:00,800



887
00:15:58,760 --> 00:16:02,120
Entonces, es un montonón de cosas que

888
00:16:00,790 --> 00:16:02,120



889
00:16:00,800 --> 00:16:03,680
podemos hacer. Ya tenemos los

890
00:16:02,110 --> 00:16:03,680



891
00:16:02,120 --> 00:16:06,160
privilegios escalados de forma muy

892
00:16:03,670 --> 00:16:06,160



893
00:16:03,680 --> 00:16:07,640
sencilla con esta pequeña práctica, ¿no?

894
00:16:06,150 --> 00:16:07,640



895
00:16:06,160 --> 00:16:09,640
Entonces vamos a cerrar por aquí para

896
00:16:07,630 --> 00:16:09,640



897
00:16:07,640 --> 00:16:11,640
que se nos pueda cerrar esta parte. Aquí

898
00:16:09,630 --> 00:16:11,640



899
00:16:09,640 --> 00:16:13,840
pues si queremos parar, le damos control

900
00:16:11,630 --> 00:16:13,840



901
00:16:11,640 --> 00:16:16,040
má C y se para. Sí. Ahora, para no

902
00:16:13,830 --> 00:16:16,040



903
00:16:13,840 --> 00:16:18,960
cerrar como tal la sesión le voy a dar

904
00:16:16,030 --> 00:16:18,960



905
00:16:16,040 --> 00:16:21,320
background. Sí. Y al darle background

906
00:16:18,950 --> 00:16:21,320



907
00:16:18,960 --> 00:16:22,920
escribimos sessions y aquí tenemos la

908
00:16:21,310 --> 00:16:22,920



909
00:16:21,320 --> 00:16:24,760
sesión activa. De hecho, nos dice por

910
00:16:22,910 --> 00:16:24,760



911
00:16:22,920 --> 00:16:27,040
aquí el nombre de la computadora, su

912
00:16:24,750 --> 00:16:27,040



913
00:16:24,760 --> 00:16:28,640
dirección IP y por qué puerto tenemos ya

914
00:16:27,030 --> 00:16:28,640



915
00:16:27,040 --> 00:16:30,960
establecida una conexión. Aunque te

916
00:16:28,630 --> 00:16:30,960



917
00:16:28,640 --> 00:16:33,480
salgas de aquí, la sesión va a seguir

918
00:16:30,950 --> 00:16:33,480



919
00:16:30,960 --> 00:16:35,120
funcionando de forma automática. ¿Cómo

920
00:16:33,470 --> 00:16:35,120



921
00:16:33,480 --> 00:16:38,200
regresamos a la sesión? Escribimos

922
00:16:35,110 --> 00:16:38,200



923
00:16:35,120 --> 00:16:39,600
sessions menos i, el parámetro, y le

924
00:16:38,190 --> 00:16:39,600



925
00:16:38,200 --> 00:16:41,120
vamos a pasar la sesión a la que

926
00:16:39,590 --> 00:16:41,120



927
00:16:39,600 --> 00:16:42,440
queremos regresar. Aquí en este caso

928
00:16:41,110 --> 00:16:42,440



929
00:16:41,120 --> 00:16:44,680
nada más tenemos una. Así que

930
00:16:42,430 --> 00:16:44,680



931
00:16:42,440 --> 00:16:46,920
seleccionamos el ID, que es el uno, y

932
00:16:44,670 --> 00:16:46,920



933
00:16:44,680 --> 00:16:48,800
regresamos de nuevo al meterpreter. ¿Sí?

934
00:16:46,910 --> 00:16:48,800



935
00:16:46,920 --> 00:16:50,680
Aquí estamos de nuevo en el meterpreter.

936
00:16:48,790 --> 00:16:50,680



937
00:16:48,800 --> 00:16:53,480
Aquí vamos a probar un comando antes de

938
00:16:50,670 --> 00:16:53,480



939
00:16:50,680 --> 00:16:55,000
irnos sobre la información del sistema.

940
00:16:53,470 --> 00:16:55,000



941
00:16:53,480 --> 00:16:56,640
Y nos da toda la información del

942
00:16:54,990 --> 00:16:56,640



943
00:16:55,000 --> 00:16:58,520
sistema. Sí. Espero les haya gustado

944
00:16:56,630 --> 00:16:58,520



945
00:16:56,640 --> 00:17:00,200
como ame este video. Cualquier cosa o

946
00:16:58,510 --> 00:17:00,200



947
00:16:58,520 --> 00:17:02,840
duda en los comentarios, sin problema lo

948
00:17:00,190 --> 00:17:02,840



949
00:17:00,200 --> 00:17:02,840
respondo.

